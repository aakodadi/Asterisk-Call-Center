<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Asterisk Project : Application_Macro</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Asterisk Project : Application_Macro
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jul 20, 2012 by <font color="#0050B2">wikibot</font>.
				    </div>

				    <h1><a name="Application_Macro-Macro%28%29"></a>Macro()</h1>

<h3><a name="Application_Macro-Synopsis"></a>Synopsis</h3>

<p>Macro Implementation.</p>
<h3><a name="Application_Macro-Description"></a>Description</h3>



<p>Executes a macro using the context macro- <em>name</em>, jumping to the <tt>s</tt> extension of that context and executing each step, then returning when the steps end.</p>

<p>The calling extension, context, and priority are stored in <tt>MACRO_EXTEN</tt>, <tt>MACRO_CONTEXT</tt> and <tt>MACRO_PRIORITY</tt> respectively. Arguments become <tt>ARG1</tt>, <tt>ARG2</tt>, etc in the macro context.</p>

<p>If you Goto out of the Macro context, the Macro will terminate and control will be returned at the location of the Goto.</p>

<p>If <tt>MACRO_OFFSET</tt> is set at termination, Macro will attempt to continue at priority MACRO_OFFSET + N + 1 if such a step exists, and N + 1 otherwise.</p>
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Warning</b><br />Because of the way Macro is implemented (it executes the priorities contained within it via sub-engine), and a fixed per-thread memory stack allowance, macros are limited to 7 levels of nesting (macro calling macro calling macro, etc.); It may be possible that stack-intensive applications in deeply nested macros could cause asterisk to crash earlier than this limit. It is advised that if you need to deeply nest macro calls, that you use the Gosub application (now allows arguments like a Macro) with explict Return() calls instead.</td></tr></table></div>
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Warning</b><br />Use of the application <tt>WaitExten</tt> within a macro will not function as expected. Please use the <tt>Read</tt> application in order to read DTMF from a channel currently executing a macro.</td></tr></table></div>


<h3><a name="Application_Macro-Syntax"></a>Syntax</h3>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>Macro(namearg1arg2[...])</pre>
</div></div>
<h5><a name="Application_Macro-Arguments"></a>Arguments</h5>


<ul>
	<li><tt>name</tt> - The name of the macro</li>
	<li><tt>args</tt>
	<ul>
		<li><tt>arg1</tt></li>
		<li><tt>arg2</tt></li>
	</ul>
	</li>
</ul>


<h3><a name="Application_Macro-SeeAlso"></a>See Also</h3>


<ul>
	<li><a href="Application_MacroExit.html" title="Application_MacroExit">Application&#95;MacroExit</a></li>
	<li><a href="Application_Goto.html" title="Application_Goto">Application&#95;Goto</a></li>
	<li><a href="Application_Gosub.html" title="Application_Gosub">Application&#95;Gosub</a></li>
</ul>


<h3><a name="Application_Macro-ImportVersion"></a>Import Version</h3>

<p>This documentation was imported from Asterisk Version SVN-branch-1.8-r370275</p>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="https://wiki.asterisk.org/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Nov 02, 2012 17:25</font></td>
		    </tr>
	    </table>
    </body>
</html>
